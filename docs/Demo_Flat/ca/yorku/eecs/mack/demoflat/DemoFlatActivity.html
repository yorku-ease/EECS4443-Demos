<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_372) on Thu Jan 11 06:15:30 EST 2024 -->
<title>DemoFlatActivity</title>
<meta name="date" content="2024-01-11">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DemoFlatActivity";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../ca/yorku/eecs/mack/demoflat/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../ca/yorku/eecs/mack/demoflat/DemoFlatActivity.ScreenRefreshTimer.html" title="class in ca.yorku.eecs.mack.demoflat"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?ca/yorku/eecs/mack/demoflat/DemoFlatActivity.html" target="_top">Frames</a></li>
<li><a href="DemoFlatActivity.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ca.yorku.eecs.mack.demoflat</div>
<h2 title="Class DemoFlatActivity" class="title">Class DemoFlatActivity</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>Activity</li>
<li>
<ul class="inheritance">
<li>ca.yorku.eecs.mack.demoflat.DemoFlatActivity</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">DemoFlatActivity</span>
extends Activity</pre>
<div class="block"><style> pre {font-size:110%} </style>

 Demo_Flat - a demo that rotates a View, keeping it flat with respect to the ground. <p>

 Related information: <p>

 <blockquote> See <code>DemoSensors</code> for topic and links. </blockquote> <p>

 This demo is a stripped-down version of <code>DemoTiltMeter</code>. As implied in the short description above, the
 demo uses data from an Android device's built-in sensors to rotate a view. As the device is held and moved about, the
 View remains flat with respect to the ground. <p>

 The UI layout for the main activity (in <code>res/layout/main.xml</code>) uses a <code>LinearLayout</code> containing
 a single <code>ImageView</code> element. In <code>onCreate</code>, an image resource is placed in the
 <code>ImageView</code>: <p>

 <pre>
      imageView = (ImageView)findViewById(R.id.image_view);
      imageView.setImageResource(R.drawable.map_north);
 </pre>

 The image resource is a <code>.jpg</code> file showing a map. Superimposed on the map is an arrow pointing NORTH
 (below left). When the demo launches, the image is loaded and placed in the activity's UI (below right). <p>

 <center> <a href="./javadoc_images/DemoFlat-1.jpg"><img src="./javadoc_images/DemoFlat-1.jpg" height="300"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a
 href="./javadoc_images/DemoFlat-2.jpg"><img src="./javadoc_images/DemoFlat-2.jpg" height="400"></a> </center> <p>

 The UI image above was captured with the device sitting flat on a table, facing approximately NORTH (below left). If
 the device is rotated, the arrow continues to point NORTH (below right).

 <center> <a href="./javadoc_images/DemoFlat-6a.jpg"><img src="./javadoc_images/DemoFlat-6a.jpg" height="300"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a
 href="DemoFlat-6b.jpg"><img src="./javadoc_images/DemoFlat-6b.jpg" height="300"></a> </center> <p>


 Furthermore, if the device is picked up and moved about, the image remains flat with respect to the table or ground.
 This occurs by rotating the view about the <i>x</i>-axis and <i>y</i>-axis. And the arrow continues to point
 approximately NORTH. This is possible by rotating the view about the <i>z</i>-axis. A few examples of screen snaps
 with the device held in different positions are shown below. <p>

 <center> <a href="./javadoc_images/DemoFlat-3.jpg"><img src="./javadoc_images/DemoFlat-3.jpg" width="200"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a
 href="./javadoc_images/DemoFlat-4.jpg"><img src="./javadoc_images/DemoFlat-4.jpg" width="200"></a></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a
 href="./javadoc_images/DemoFlat-5.jpg"><img src="./javadoc_images/DemoFlat-5.jpg" width="200"></a> </center> <p>

 The images above look strange. To appreciate this demo, it must be experienced first-hand: Run the app, hold the
 device, and move the device around. Fun, isn't it! Can you think of other uses for this sort of interaction? <p>

 The common terms for angular position about the <i>x</i>-, <i>y</i>-, and <i>z</i>-axes are <i>pitch</i>,
 <i>roll</i>, and <i>azimuth</i>, respectively. (Azimuth is sometimes called <i>yaw</i>.) The device and world axes
 are shown below using images from the <code>SensorEvent</code> API:

 <center> <img src="./javadoc_images/DemoFlat-7.jpg"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <img src="./javadoc_images/DemoFlat-8.jpg"></a></center> <p>

 NOTE: For this demo to fully work, the Android device must have either (a) an orientation sensor
 (<code>Sensor.TYPE_ORIENTATION</code>) or (b) an accelerometer ( <code>Sensor.TYPE_ACCELEROMETER</code>) <i>and</i> a
 magnetic field sensor ( <code>Sensor.TYPE_MAGNETIC_FIELD</code>). Some Android devices, such as the Asus <i>MeMO
 Pad</i>,
 have an accelerometer but no orientation or magnetic field sensor. In this case the image will remain flat, by
 rotating about the <i>x</i>-axis and <i>y</i>-axis, but it will not swivel about, which is to say, the arrow may not
 point NORTH. The problem in this case is that reliable azimuth data are not available from an accelerometer.
 (Google-search this topic for further details.) <p>

 The biggest challenge in this demo is getting the pitch, roll, and azimuth data from the device. This is done in
 <code>onSensorChanged</code> &ndash; the callback for sensor events. There is some fiddling necessary, depending on
 which sensors are available and whether the device's default orientation is portrait or landscape. For complete
 details consult the source code, the source-code comments, and the previous demo programs, Demo_Sensors and
 Demo_TiltMeter. <p>

 Once the pitch, roll, and azimuth data are obtained, rotating the image is relatively straight forward: <p>

 <pre>
      imageView.setRotationX(pitch);
      imageView.setRotationY(roll);
      imageView.setRotation(azimuth + azimuthAdjust);
      imageView.invalidate();
 </pre>

 The code above appears in the <code>onFinish</code> method of the timer used for screen refreshes. The same technique
 was used in Demo_Sensors and Demo_TiltMeter . The refresh interval is set programmatically at 50 ms, yielding a
 screen update rate of 20 Hz. This rate can be increased or decreased independent of the sensor sampling rate. </p>

 If the sensor sample delay is set to <code>SensorManager.SENSOR_DELAY_FASTEST</code>, the delay is about 5 ms on a
 Google <i>Nexus 4</i>. That's a sample rate of 200 Hz &ndash; very fast! The screen update rate could be increased
 correspondingly. In general, a high update rate yields a smooth and responsive user experience. Lowering the update
 rate will, at some point, result in a degraded user experience. Hmm... Is there a project topic here? At what update
 rate, does the user begin to notice a degradation in responsiveness? If the user is doing a task using device
 rotation, what is the relationship between the UI's update rate and user performance? <p>

 NOTE: This app doesn't work properly on Android 6 (M).  When the device pitch or roll exceeds 45 degrees, the display
 shuts off.  This is likely a bug related to the use of the proximity sensor to turn off the display during a call. No
 fix yet (Jan 2016).</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../ca/yorku/eecs/mack/demoflat/DemoFlatActivity.ScreenRefreshTimer.html" title="class in ca.yorku.eecs.mack.demoflat">DemoFlatActivity.ScreenRefreshTimer</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../ca/yorku/eecs/mack/demoflat/DemoFlatActivity.html#DemoFlatActivity--">DemoFlatActivity</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../ca/yorku/eecs/mack/demoflat/DemoFlatActivity.html#getDefaultDeviceOrientation--">getDefaultDeviceOrientation</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected float[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../ca/yorku/eecs/mack/demoflat/DemoFlatActivity.html#lowPass-float:A-float:A-float-">lowPass</a></span>(float[]&nbsp;input,
       float[]&nbsp;output,
       float&nbsp;alpha)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../ca/yorku/eecs/mack/demoflat/DemoFlatActivity.html#onAccuracyChanged-Sensor-int-">onAccuracyChanged</a></span>(Sensor&nbsp;sensor,
                 int&nbsp;accuracy)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../ca/yorku/eecs/mack/demoflat/DemoFlatActivity.html#onCreate-Bundle-">onCreate</a></span>(Bundle&nbsp;savedInstanceState)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../ca/yorku/eecs/mack/demoflat/DemoFlatActivity.html#onPause--">onPause</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../ca/yorku/eecs/mack/demoflat/DemoFlatActivity.html#onResume--">onResume</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../ca/yorku/eecs/mack/demoflat/DemoFlatActivity.html#onSensorChanged-SensorEvent-">onSensorChanged</a></span>(SensorEvent&nbsp;se)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../ca/yorku/eecs/mack/demoflat/DemoFlatActivity.html#onStop--">onStop</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../ca/yorku/eecs/mack/demoflat/DemoFlatActivity.html#onWindowFocusChanged-boolean-">onWindowFocusChanged</a></span>(boolean&nbsp;hasFocus)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DemoFlatActivity--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DemoFlatActivity</h4>
<pre>public&nbsp;DemoFlatActivity()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="onCreate-Bundle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onCreate</h4>
<pre>public&nbsp;void&nbsp;onCreate(Bundle&nbsp;savedInstanceState)</pre>
</li>
</ul>
<a name="onWindowFocusChanged-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onWindowFocusChanged</h4>
<pre>public&nbsp;void&nbsp;onWindowFocusChanged(boolean&nbsp;hasFocus)</pre>
</li>
</ul>
<a name="getDefaultDeviceOrientation--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultDeviceOrientation</h4>
<pre>public&nbsp;int&nbsp;getDefaultDeviceOrientation()</pre>
</li>
</ul>
<a name="onResume--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onResume</h4>
<pre>protected&nbsp;void&nbsp;onResume()</pre>
</li>
</ul>
<a name="onPause--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onPause</h4>
<pre>protected&nbsp;void&nbsp;onPause()</pre>
</li>
</ul>
<a name="onStop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onStop</h4>
<pre>public&nbsp;void&nbsp;onStop()</pre>
</li>
</ul>
<a name="onAccuracyChanged-Sensor-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onAccuracyChanged</h4>
<pre>public&nbsp;void&nbsp;onAccuracyChanged(Sensor&nbsp;sensor,
                              int&nbsp;accuracy)</pre>
</li>
</ul>
<a name="onSensorChanged-SensorEvent-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onSensorChanged</h4>
<pre>public&nbsp;void&nbsp;onSensorChanged(SensorEvent&nbsp;se)</pre>
</li>
</ul>
<a name="lowPass-float:A-float:A-float-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>lowPass</h4>
<pre>protected&nbsp;float[]&nbsp;lowPass(float[]&nbsp;input,
                          float[]&nbsp;output,
                          float&nbsp;alpha)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../ca/yorku/eecs/mack/demoflat/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../ca/yorku/eecs/mack/demoflat/DemoFlatActivity.ScreenRefreshTimer.html" title="class in ca.yorku.eecs.mack.demoflat"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?ca/yorku/eecs/mack/demoflat/DemoFlatActivity.html" target="_top">Frames</a></li>
<li><a href="DemoFlatActivity.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
