<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_372) on Thu Jan 11 06:15:52 EST 2024 -->
<title>DemoTouchActivity</title>
<meta name="date" content="2024-01-11">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DemoTouchActivity";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../ca/yorku/eecs/mack/demotouch/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?ca/yorku/eecs/mack/demotouch/DemoTouchActivity.html" target="_top">Frames</a></li>
<li><a href="DemoTouchActivity.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ca.yorku.eecs.mack.demotouch</div>
<h2 title="Class DemoTouchActivity" class="title">Class DemoTouchActivity</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>Activity</li>
<li>
<ul class="inheritance">
<li>ca.yorku.eecs.mack.demotouch.DemoTouchActivity</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">DemoTouchActivity</span>
extends Activity</pre>
<div class="block"><style> pre {font-size:110%} </style>

 Demo_Touch - demonstration of touch input on Android devices. This demo supports single touch only. </p>

 Related information: </p>

 <blockquote>

 API Guides:<p>

 <ul> <li> <a href="http://developer.android.com/guide/topics/ui/ui-events.html">Input Events</a> </ul><p>

 API References: </p>

 <ul> <li> <a href="http://developer.android.com/reference/android/view/View.html"> <code>View</code></a> <li> <a
 href= "http://developer.android.com/reference/android/view/View.OnTouchListener.html" >
 <code>OnTouchListener</code></a> <li> <a href="http://developer.android.com/reference/android/view/MotionEvent.html">
 <code>MotionEvent</code></a> <li> <a href="http://developer.android.com/reference/android/view/VelocityTracker.html">
 <code>VelocityTracker</code></a> </ul><p>

 Training: <p>

 <ul> <li> <a href="http://developer.android.com/training/gestures/movement.html">Tracking Movement</a> </ul>
 </blockquote>

 This demo is a simple examination of touch input on an Android device. We are are <i>not</i> considering multitouch
 or gesture detection (yet!). Single-finger touch input in an Android application is similar to mouse input in a
 Java/Swing application. Instead of responding to <i>mouse events</i>, an Android application responds to <i>touch
 events</i>. Similarly, instead of attaching a <i>mouse listener</i> to a component (such as a <code>JPanel</code>), a
 <i>touch listener</i> is attached to a view. The view is an instance of <code>View</code> (or a sub-class of
 <code>View</code>). The listener is <code>OnTouchListener</code>, which defines one method, <code>onTouch</code>.
 </p>

 In Android parlance, the <code>onTouch</code> method is referred to as a <i>callback</i>, since it is called from the
 object on which the event occurred. The <code>onTouch</code> callback provides two arguments: the <code>View</code>
 object on which the event occurred and a <code>MotionEvent</code> object describing the event. The
 <code>MotionEvent</code> object includes all the information we might expect for a mouse event in Java/Swing, such as
 the <i>x</i> and <i>y</i> coordinates of the event, and whether the finger has touched down on the display surface,
 moved on the display surface, or lifted up off the display surface. In the Android API reference, a finger is
 referred to as a <i>pointer</i>. </p>

 The <code>MotionEvent</code> object includes considerably more information, however. This is partly due to the
 requirements for multitouch, which is the focus of our next demo. </p>

 The following screen snaps show the demo application with a light touch (left) and a heavy touch (right): </p>

 <center> <a href="./javadoc_images/DemoTouch-1.jpg"><img src="./javadoc_images/DemoTouch-1.jpg" width="300"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a
 href="./javadoc_images/DemoTouch-2.jpg"><img src="./javadoc_images/DemoTouch-2.jpg" width="300"></a> </center> </p>

 The pink region is a <code>PaintPanel</code>, a subclass of <code>View</code>. A circle is painted on the paint panel
 where the finger is touching. Pressure sensing is straight forward on Android devices, so this is included in the
 demo as well. The diameter of the circle is proportional to the contact pressure. In fact, pressure is determined by
 the finger contact surface area, not the pressure. So, pressing hard with the tip of the finger may yield less
 "pressure" than pressing soft with a finger sitting flat on the display surface. </p>

 Note that this demo does not include an Exit button (unlike earlier demos). Generally, Android applications do not
 need an explicit button to exit an application. The Back button in the Navigation Bar serves this purpose: </p>

 <center> <a href="./javadoc_images/DemoTouch-3.jpg"><img src="./javadoc_images/DemoTouch-3.jpg" width="600"></a> </center> </p>

 The Back button is used for <i>back navigation</i>. As used here, pressing Back terminates ("destroys") the current
 activity. Furthermore, since Demo Touch includes just a single activity, the effect is to exit the application. </p>

 To assist in debugging, status information is output in two ways. First, data are written to the LogCat debug monitor
 using </p>

 <pre>
      String s = String.format("Touch event: %11s {x=%4.1f, y=%4.1f, p=%1.3f}", eventType, t, x, y, p);
      Log.i(MYDEBUG, s);
 </pre>


 The formatted string includes four arguments, all derived from the <code>MotionEvent</code> object received in the
 <code>onTouch</code> callback: </p>

 <ul> <li><code>eventType</code> &ndash; the kind of action associated with this event (e.g.,
 <code>ACTION_DOWN</code>) <li><code>x</code> &ndash; the <i>x</i> coordinate in the view where the event occurred
 <li><code>y</code> &ndash; the <i>y</i> coordinate in the view where the event occurred <li><code>p</code> &ndash;
 the pressure of the touch associated with this event </ul> </p>

 An example stream of messages written to the LogCat window is shown below. </p>

 <center><img src="./javadoc_images/DemoTouch-4.jpg"></center> </p>

 The messages above are for a single finger gesture or stroke. Thus, the events consist of a single
 <code>ACTION_DOWN</code> event, followed by a series of <code>ACTION_MOVE</code> events, followed by a single
 <code>ACTION_UP</code> event. The gesture was in a south-east direction, from { 133.5, 167.0 } to { 453.8, 520.4 }.
 (The Fling velocities are discussed below.)</p>

 The same data are also displayed using <code>setText</code> invoked on <code>TextView</code> UI elements which appear
 below the paint panel (see screen snaps above). The touch status data are for <i>x</i>, <i>y</i>, and <i>p</i>
 (pressure) are shown as integers. (Note: pressure appears as the raw value &times; 100.)</p>

 NOTE: The best way to appreciate this demo is to run it on an Android device (e.g., in USB debugging mode) and to
 observe the status data on the display as a finger touches and moves about on the display. <p>

 <b>Touch Events</b> <p>

 Handling touch events occurs through the <code>onTouch</code> callback method defined in
 <code>View.OnTouchListener</code>. When a touch event occurs, <code>onTouch</code> is called.  Two arguments are
 passed in, the <code>View</code> object responsible for the touch event and a <code>MotionEvent</code> object which
 provides information about the event. The type of event is retrieved by calling the <code>getAction</code> method on
 the <code>MotionEvent</code> object. For single-touch, the primary actions are </p>

 <ul> <li><code>ACTION_DOWN</code> - a finger has touched the display surface <li><code>ACTION_MOVE</code> - the
 finger has moved <li><code>ACTION_UP</code> - the finger has left the display surface </ul> <p>

 Additional <i>get</i>-methods are available to retrieve position and other information about the event. The following
 shows the implementation of <code>onTouch</code> herein (some details are omitted). Consult the source code for
 additional details. </p>

 <pre>
      &#64;Override
      public boolean onTouch(View v, MotionEvent me)
      {
           float x = me.getX();
           float y = me.getY();
           float p = me.getPressure();

           switch (me.getAction() & MotionEvent.ACTION_MASK)
           {
                case MotionEvent.ACTION_DOWN:
                     updateStatus(ACTION_DOWN_STRING, x, y, p);
                     touchPanel.setCircle(x, y, p); // draw circle on panel
                     break;

                case MotionEvent.ACTION_MOVE:
                     updateStatus(ACTION_MOVE_STRING, x, y, p);
                     touchPanel.setCircle(x, y, p); // draw circle on panel
                     break;

                case MotionEvent.ACTION_UP:
                     updateStatus(ACTION_UP_STRING, x, y, p);
                     touchPanel.clear(); // clear circle on finger lift
                     break;
           }
           return true;
      }
 </pre>


 One distinction between the mouse listener methods of Java/Swing (e.g., <code>mousePressed</code>) and the touch
 listener method in the Android platform (<code>onTouch</code>) is the return type. Mouse listener methods return
 <code>void</code>. Note above that <code>onTouch</code> returns a <code>boolean</code>. Returning <code>true</code>
 indicates that the event has been "consumed", which is to say, no further processing is needed. If <code>false</code>
 is returned, then further processing is needed, for example, in a parent view (if any) or in the Activity hosting the
 view. For further discussion, see the description of <code>onTouchEvent</code> in the <code>Activity</code> API.</p>

 <b>VelocityTracker</b> <p>

 It is sometimes useful to know the velocity of finger movement on the display during a touch gesture. The
 <code>VelocityTracker</code> class is a helper class for this purpose. The second line of status output on the
 display shows the velocity of finger movement along the <i>x</i>-axis and <i>y</i>-axis. Positive velocities are to
 the right for the <i>x</i>-axis and down for the <i>y</i>-axis. The fling velocities are also shown. These are the
 <i>x</i>-axis and <i>y</i>-axis velocities of the finger at the end of a touch gesture (upon <code>ACTION_UP</code>).
 <p>

 Use of <code>VelocityTracker</code> is simple. The approach used here was borrowed from the Tracking Velocity
 training module (link above). <p>

 If detecting gestures such as flings is desired, it is typically done at a higher level. The usual approach is to
 extend <code>GestureDetector.SimpleOnGestureListener</code> and implement <code>onFling</code>. This is demonstrated
 in Demo_Scale. <p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../ca/yorku/eecs/mack/demotouch/DemoTouchActivity.html#DemoTouchActivity--">DemoTouchActivity</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../ca/yorku/eecs/mack/demotouch/DemoTouchActivity.html#onCreate-Bundle-">onCreate</a></span>(Bundle&nbsp;savedInstanceState)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../ca/yorku/eecs/mack/demotouch/DemoTouchActivity.html#onTouch-View-MotionEvent-">onTouch</a></span>(View&nbsp;v,
       MotionEvent&nbsp;me)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DemoTouchActivity--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DemoTouchActivity</h4>
<pre>public&nbsp;DemoTouchActivity()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="onCreate-Bundle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onCreate</h4>
<pre>public&nbsp;void&nbsp;onCreate(Bundle&nbsp;savedInstanceState)</pre>
</li>
</ul>
<a name="onTouch-View-MotionEvent-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>onTouch</h4>
<pre>public&nbsp;boolean&nbsp;onTouch(View&nbsp;v,
                       MotionEvent&nbsp;me)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../ca/yorku/eecs/mack/demotouch/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?ca/yorku/eecs/mack/demotouch/DemoTouchActivity.html" target="_top">Frames</a></li>
<li><a href="DemoTouchActivity.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
